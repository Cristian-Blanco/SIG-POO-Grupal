<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>20252094010 – SUBA: Rutas SITP y Paraderos</title>

  <!-- Leaflet -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />
  <!-- MarkerCluster -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />

  <!-- Estilos propios -->
  <link rel="stylesheet" href="src/css/20252094010.css" />
</head>
<body>
  <!-- ==================== FILA 1: Encabezado ==================== -->
  <header class="topbar">
    <div class="brand">
      <div class="title">SUBA – Rutas SITP recortadas + Estaciones/Paraderos</div>
      <div class="subtitle">Proyecto 20252094010 (Leaflet + Turf.js)</div>
    </div>
    <div class="metrics" id="metrics">
      <div><strong>Rutas que tocan SUBA:</strong> <span id="m_rutas_touch">–</span></div>
      <div><strong>Tramos dentro de SUBA:</strong> <span id="m_tramos_clip">–</span></div>
      <div><strong>Longitud total (km):</strong> <span id="m_km_total">–</span></div>
      <div><strong>Estaciones/Paraderos:</strong> <span id="m_pts">–</span></div>
    </div>
  </header>

  <!-- ==================== FILA 2: Descripción de PASOS ==================== -->
  <section class="steps">
    <div class="step" id="s1"><span class="badge">1</span><span>Cargar Localidades</span></div>
    <div class="step" id="s2"><span class="badge">2</span><span>Unificar SUBA</span></div>
    <div class="step" id="s3"><span class="badge">3</span><span>Cargar Rutas (1ª disponible)</span></div>
    <div class="step" id="s4"><span class="badge">4</span><span>Intersectar con SUBA</span></div>
    <div class="step" id="s5"><span class="badge">5</span><span>Clip + Longitudes</span></div>
    <div class="step" id="s6"><span class="badge">6</span><span>Cargar Paraderos</span></div>
    <div class="step" id="s7"><span class="badge">7</span><span>Filtrar dentro de SUBA</span></div>
    <div class="step" id="s8"><span class="badge">8</span><span>Pintar mapa y controles</span></div>
  </section>

  <!-- ==================== FILA 3: Mapa + Log ==================== -->
  <main class="layout">
    <div id="map"></div>
    <aside class="log">
      <h3>Registro</h3>
      <pre id="logbox">(iniciando…)</pre>
      <details>
        <summary>Ayuda</summary>
        <ul>
          <li>Si un servicio no responde, se prueba con el siguiente candidato.</li>
          <li>Si ves errores CORS, abre con un servidor local (VS Code → Live Server).</li>
          <li>Las fuentes oficiales a veces están intermitentes; reintenta más tarde.</li>
        </ul>
      </details>
    </aside>
  </main>

  <!-- Librerías JS -->
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VMUNs7CqjzCtm0h+50="
    crossorigin=""
  ></script>
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
  <script src="https://unpkg.com/@turf/turf@6.5.0/turf.min.js"></script>

  <!-- App -->
  <script src="src/js/20252094010.js"></script>
</body>
</html>
